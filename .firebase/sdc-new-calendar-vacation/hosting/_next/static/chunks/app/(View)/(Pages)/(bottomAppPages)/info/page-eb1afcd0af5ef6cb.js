(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[556],{2734:function(e,t,n){Promise.resolve().then(n.bind(n,4958))},8192:function(e,t,n){"use strict";n.r(t),n.d(t,{UseContext:function(){return c}});var s=n(7437),l=n(2031),r=n(8153),a=n(2265);let c=(0,a.createContext)({bottomNavState:"",setBottomNavState:()=>{},isEventAddModal:!1,setIsEventAddModal:()=>{},user:null,setUser:()=>{},isUserMenu:!1,setIsUserMenu:()=>{},apiUserInfo:null,setApiUserInfo:()=>{},apiVacations:[],setApiVacations:()=>{},isModifyModal:!1,setIsModifyModal:()=>{},isFilter:!1,setIsFilter:()=>{},nowFilter:{A:!0,B:!0,C:!0,D:!0},setNowFilter:()=>{}});t.default=e=>{let{children:t}=e,[n,o]=(0,a.useState)(""),[i,u]=(0,a.useState)(!1),[d,f]=(0,a.useState)(null),[p,x]=(0,a.useState)(!1),[m,g]=(0,a.useState)(null),[h,v]=(0,a.useState)([]),[b,j]=(0,a.useState)(!1),[N,w]=(0,a.useState)(!1),[y,I]=(0,a.useState)({A:!0,B:!0,C:!0,D:!0});return(0,a.useEffect)(()=>{let e=(0,r.Aj)(l.I,e=>{f(e)});return e},[d]),(0,s.jsx)(c.Provider,{value:{bottomNavState:n,setBottomNavState:o,isEventAddModal:i,setIsEventAddModal:u,user:d,setUser:f,isUserMenu:p,setIsUserMenu:x,apiUserInfo:m,setApiUserInfo:g,apiVacations:h,setApiVacations:v,isModifyModal:b,setIsModifyModal:j,isFilter:N,setIsFilter:w,nowFilter:y,setNowFilter:I},children:t})}},4958:function(e,t,n){"use strict";n.r(t);var s=n(7437),l=n(8192),r=n(1173),a=n(5181),c=n(7906),o=n(2265);t.default=()=>{let e=(0,o.useContext)(l.UseContext),{setBottomNavState:t,apiUserInfo:n,setApiUserInfo:i,user:u}=e,[d,f]=(0,o.useState)(null==u?void 0:u.email),[p,x]=(0,o.useState)(""),[m,g]=(0,o.useState)(null==n?void 0:n.group);(0,o.useEffect)(()=>{u&&(0,c.YJ)(null==u?void 0:u.uid,i),t("info"),x(null==u?void 0:u.displayName),f(null==u?void 0:u.email)},[u]);let h={name:p,email:d,group:m,companyCode:null==n?void 0:n.companyCode};return(0,s.jsxs)("section",{className:"bg-bg w-[100vw] h-[100vh] p-5 overflow-hidden",children:[(0,s.jsx)("h1",{className:"font-black text-[24px]",children:"MY INFO"}),(0,s.jsx)("hr",{}),(0,s.jsxs)("form",{className:"h-full flex flex-col",onSubmit:e=>{(0,a.dD)(e,h)},children:[(0,s.jsxs)("div",{className:"my-4",children:[(0,s.jsxs)("div",{className:"flex mt-3 items-center",children:[(0,s.jsx)("span",{className:"w-[20%]",children:"ID"}),(0,s.jsx)("input",{readOnly:!0,placeholder:(null==u?void 0:u.email)||"",className:"w-full p-2 bg-bg border-[1px] border-[black] text-black40"})]}),(0,s.jsxs)("div",{className:"flex mt-3 items-center",children:[(0,s.jsx)("span",{className:"w-[20%]",children:"이름"}),(0,s.jsx)("input",{className:"w-full p-2 bg-bg border-[1px] placeholder:text-[black]",value:p||"",onChange:e=>{x(e.target.value)}})]}),(0,s.jsxs)("div",{className:"flex mt-3 items-center",children:[(0,s.jsx)("span",{className:"w-[20%]",children:"조"}),(0,s.jsxs)("select",{defaultValue:"".concat(null==n?void 0:n.group),className:"w-full p-2 bg-bg border-[1px]",onChange:e=>{g(e.target.value[0])},children:[(0,s.jsxs)("option",{children:[n&&"".concat(null==n?void 0:n.group),"조"]}),"A"!=="".concat(null==n?void 0:n.group)&&(0,s.jsx)("option",{children:"A조"}),"B"!=="".concat(null==n?void 0:n.group)&&(0,s.jsx)("option",{children:"B조"}),"C"!=="".concat(null==n?void 0:n.group)&&(0,s.jsx)("option",{children:"C조"}),"D"!=="".concat(null==n?void 0:n.group)&&(0,s.jsx)("option",{children:"D조"})]})]})]}),(0,s.jsx)("button",{type:"submit",className:"my-10 bg-primary100 border-[1px] w-full px-2 py-3 rounded-full",children:"회원정보 수정"})]}),(0,s.jsx)(r.default,{})]})}},1173:function(e,t,n){"use strict";n.r(t);var s=n(7437),l=n(8192),r=n(4033),a=n(2265);t.default=()=>{let e=(0,a.useContext)(l.UseContext),{bottomNavState:t,setBottomNavState:n,user:c}=e,o=(0,r.useRouter)(),pageHdlr=e=>{o.push("/".concat(e)),n(e)};return(0,s.jsxs)("section",{className:"absolute bottom-0 left-0 h-[10%] z-[2] w-full px-10 flex justify-between border-t-black20 border-t-[0.5px] text-black40",children:[(0,s.jsxs)("div",{className:"flex flex-col justify-center items-center gap-1",onClick:()=>{pageHdlr("")},children:[(0,s.jsx)("img",{src:"".concat(""==t?"/asset/img/house.circle@10x.png":"/asset/img/house.circle@10x_grey.png"),className:"w-[24px] object-cover  "}),(0,s.jsx)("div",{className:"text-[12px] ".concat(""==t&&"text-black100"),children:"HOME"})]}),(0,s.jsxs)("div",{className:"flex flex-col justify-center items-center gap-1",onClick:()=>{c?pageHdlr("history"):(alert("로그인 해 주세요 \uD83D\uDE4F"),o.push("/login"))},children:[(0,s.jsx)("img",{src:"".concat("history"==t?"/asset/img/list.bullet.circle@10x.png":"/asset/img/list.bullet.circle@10x_grey.png"),className:"w-[24px] object-cover"}),(0,s.jsx)("div",{className:"text-[12px] ".concat("history"==t&&"text-black100"),children:"HISTORY"})]}),(0,s.jsxs)("div",{className:"flex flex-col justify-center items-center gap-1",onClick:()=>{c?pageHdlr("info"):(alert("로그인 해 주세요 \uD83D\uDE4F"),o.push("/login"))},children:[(0,s.jsx)("img",{src:"".concat("info"==t?"/asset/img/info.circle@10x.png":"/asset/img/info.circle@10x_grey.png"),className:"w-[24px] object-cover"}),(0,s.jsx)("div",{className:"text-[12px] ".concat("info"==t&&"text-black100"),children:"INFO"})]})]})}},5181:function(e,t,n){"use strict";n.d(t,{J$:function(){return resetPwd},dD:function(){return updateFireBaseAuthUser},kS:function(){return logout},x4:function(){return login},z2:function(){return register}});var s=n(2031),l=n(8153),r=n(7906);let login=async(e,t,n,r)=>{e.preventDefault();try{await (0,l.e5)(s.I,t,n),alert("환영합니다!"),r.push("/")}catch(e){alert("로그인 실패! 새로고침 후 다시 시도해보세요"),console.log(e)}},logout=async()=>{await (0,l.w7)(s.I)},register=async(e,t,n)=>{e.preventDefault();try{let e=await (0,l.Xb)(s.I,t.email,t.password);await (0,l.ck)(e.user,{displayName:t.name}),(0,r.C$)(t,e.user.uid),alert("회원가입이 완료되었습니다"),n.push("/")}catch(e){alert("새로고침 후 다시시도 해 주세요"),console.log(e)}},resetPwd=async e=>{let t=window.confirm("비밀번호를 초기화 하시겠습니까?");t&&(logout(),alert("".concat(e,"로 \n 비밀번호 초기화 이메일을 보냈습니다.")),(0,l.LS)(s.I,e).then(()=>{}).catch(e=>{e.code,e.message,alert("새로고침 후 다시시도 해 주세요")}))},updateFireBaseAuthUser=async(e,t)=>{e.preventDefault();try{let e=(0,l.v0)();null!==e.currentUser?(await (0,l.ck)(e.currentUser,{displayName:t.name}).then(()=>{var n,s;console.log(null===(n=e.currentUser)||void 0===n?void 0:n.uid),console.log(t),(0,r.gS)(null===(s=e.currentUser)||void 0===s?void 0:s.uid,t)}).catch(e=>console.log(e)),console.log("성공")):console.log("에러발생"),alert("업데이트가 완료되었습니다")}catch(e){alert("새로고침 후 다시시도 해 주세요"),console.log(e)}}},7906:function(e,t,n){"use strict";n.d(t,{C$:function(){return createUserInfo},YJ:function(){return getUserInfoCollection},gS:function(){return updateUserInfo}});var s=n(2031),l=n(4086);let createUserInfo=async(e,t)=>{let{password:n,...r}=e,a=(0,l.JU)(s.db,"userInfo",t);await (0,l.pl)(a,r)},getUserInfoCollection=async(e,t)=>{try{let n=(0,l.JU)(s.db,"userInfo",e),r=await (0,l.QT)(n);r.exists()?t(r.data()):console.log("No such document!")}catch(e){console.log(e)}},updateUserInfo=async(e,t)=>{let n=(0,l.JU)(s.db,"userInfo",e);await (0,l.r7)(n,t)}},2031:function(e,t,n){"use strict";n.d(t,{I:function(){return i},db:function(){return o}});var s=n(994),l=n(9978),r=n(9584),a=n(8153);let c=(0,s.ZF)({apiKey:"AIzaSyCTwMc2ShiHt4o933L-q2NeCOeUWioe--Q",authDomain:"sdc-new-calendar-vacation.firebaseapp.com",projectId:"sdc-new-calendar-vacation",storageBucket:"sdc-new-calendar-vacation.appspot.com",messagingSenderId:"129344356801",appId:"1:129344356801:web:d6660765fa0c7b968d2f40",measurementId:"G-YDQN36SFN4"});(0,r.cF)(c);let o=(0,l.ad)(),i=(0,a.v0)(c)},4033:function(e,t,n){e.exports=n(94)},4086:function(e,t,n){"use strict";n.d(t,{EK:function(){return s.EK},IO:function(){return s.IO},JU:function(){return s.JU},PL:function(){return s.PL},QT:function(){return s.QT},ar:function(){return s.ar},hJ:function(){return s.hJ},oe:function(){return s.oe},pl:function(){return s.pl},r7:function(){return s.r7}});var s=n(9978)}},function(e){e.O(0,[358,50,376,971,472,744],function(){return e(e.s=2734)}),_N_E=e.O()}]);