(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{2356:function(e,t,a){Promise.resolve().then(a.bind(a,9898))},8192:function(e,t,a){"use strict";a.r(t),a.d(t,{UseContext:function(){return s}});var l=a(7437),n=a(2031),o=a(8153),r=a(2265);let s=(0,r.createContext)({bottomNavState:"",setBottomNavState:()=>{},isEventAddModal:!1,setIsEventAddModal:()=>{},user:null,setUser:()=>{},isUserMenu:!1,setIsUserMenu:()=>{},apiUserInfo:null,setApiUserInfo:()=>{},apiVacations:[],setApiVacations:()=>{},isModifyModal:!1,setIsModifyModal:()=>{},isFilter:!1,setIsFilter:()=>{},nowFilter:{A:!0,B:!0,C:!0,D:!0},setNowFilter:()=>{}});t.default=e=>{let{children:t}=e,[a,i]=(0,r.useState)(""),[c,d]=(0,r.useState)(!1),[u,x]=(0,r.useState)(null),[m,p]=(0,r.useState)(!1),[f,g]=(0,r.useState)(null),[h,v]=(0,r.useState)([]),[b,y]=(0,r.useState)(!1),[j,N]=(0,r.useState)(!1),[w,C]=(0,r.useState)({A:!0,B:!0,C:!0,D:!0});return(0,r.useEffect)(()=>{let e=(0,o.Aj)(n.I,e=>{x(e)});return e},[u]),(0,l.jsx)(s.Provider,{value:{bottomNavState:a,setBottomNavState:i,isEventAddModal:c,setIsEventAddModal:d,user:u,setUser:x,isUserMenu:m,setIsUserMenu:p,apiUserInfo:f,setApiUserInfo:g,apiVacations:h,setApiVacations:v,isModifyModal:b,setIsModifyModal:y,isFilter:j,setIsFilter:N,nowFilter:w,setNowFilter:C},children:t})}},9898:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return main_page}});var l=a(7437),n=a(2265),o=a(6278),r=a(1860),s=a(3747),i=a(1999),c=a(7918);function goPrev(e){let t=e.current.getApi();t.prev()}function goNext(e){let t=e.current.getApi();t.next()}let d={year:function(e){let t=e.current.getApi(),a=t.getDate(),l=(0,c.ZP)(a,"yyyy");return l},month:function(e){let t=e.current.getApi(),a=t.getDate(),l=(0,c.ZP)(a,"MMMM");return l},monthNumber:function(e){var t;let a=null===(t=e.current)||void 0===t?void 0:t.getApi(),l=null==a?void 0:a.getDate(),n=(0,c.ZP)(l,"MM");return n}};var u=a(8192),x=a(5181),user_menu_popup=()=>{let e=(0,n.useContext)(u.UseContext),{user:t,isUserMenu:a,setIsUserMenu:o}=e;return(0,l.jsxs)("div",{className:"absolute z-20 right-0 mx-5 w-[70vw]  bg-[#fff] p-5 rounded-md shadow-lg flex flex-col gap-3",children:[(0,l.jsxs)("a",{href:"/info",className:"flex justify-between font-ProximaNova font-black h-[40px] border-[1px] px-3 items-center",children:[(0,l.jsx)("div",{children:null==t?void 0:t.displayName}),(0,l.jsx)("div",{children:null==t?void 0:t.email})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,l.jsx)("button",{className:"bg-point rounded-sm h-[40px] text-[#fff]",onClick:()=>{(0,x.kS)(),o(!1)},children:"LOGOUT"}),(0,l.jsx)("button",{className:"bg-primary80 rounded-sm h-[40px]",onClick:()=>{(0,x.J$)(null==t?void 0:t.email),o(!1)},children:"RESET PASSWORD"})]})]})},m=a(4033);let p=(0,n.memo)(e=>{let{calendarRef:t,isSlided:a}=e,o=(0,n.useContext)(u.UseContext),{user:r,setIsEventAddModal:s,isUserMenu:i,setIsUserMenu:c,setIsFilter:x}=o,[p,f]=(0,n.useState)(""),[g,h]=(0,n.useState)(""),v=(0,m.useRouter)();return(0,n.useEffect)(()=>{f(d.year(t)),h(d.monthNumber(t))},[a]),(0,l.jsxs)("section",{className:"flex justify-between",children:[(0,l.jsxs)("div",{className:"flex flex-col gap-[4px]",children:[(0,l.jsx)("div",{className:"font-black text-[24px]",children:g}),(0,l.jsx)("div",{className:"font-light text-black40",children:p})]}),(0,l.jsxs)("div",{className:"flex gap-[20px] items-center",children:[null===r?(0,l.jsx)("a",{href:"/login",children:(0,l.jsx)("img",{src:"asset/img/person.crop.circle@10x.png",className:"object-cover w-[18px] h-[18px]"})}):(0,l.jsxs)("div",{children:[(0,l.jsx)("span",{className:"border-[1px] border-black100 p-1 px-2 rounded-md",onClick:()=>{c(!0)},children:null==r?void 0:r.displayName}),(0,l.jsx)("span",{children:i&&(0,l.jsx)(user_menu_popup,{})})]}),(0,l.jsx)("img",{className:" w-[18px] object-cover",onClick:()=>{window.location.reload()},src:"/asset/img/arrow.clockwise.square@10x.png"}),(0,l.jsx)("img",{src:"/asset/img/square.grid.2x2@10x.png",className:" w-[18px] object-cover",onClick:()=>{x(!0)}}),(0,l.jsx)("img",{src:"asset/img/plus2.png",className:"object-cover w-[15px] h-[15px]",onClick:()=>{r?s(!0):(alert("로그인 해 주세요"),v.push("/login"))}})]})]})}),handleTouchStart=(e,t)=>{t(e.touches[0].clientX)},handleTouchMove=(e,t)=>{t(e.touches[0].clientX)},handleTouchEnd=(e,t,a,l,n)=>{if(e&&t){let l=t-e;l>100?goPrev(a):l<-100&&goNext(a)}l(null),n(null)};var f=a(1173),g=a(4548),h=a.n(g);let event_data=()=>{let e=(0,n.useContext)(u.UseContext),{apiVacations:t,nowFilter:a}=e,l=t.map((e,a)=>{var l,n,o,r;return{title:null===(l=t[a])||void 0===l?void 0:l.name,start:null===(n=t[a])||void 0===n?void 0:n.startDate,end:h()(null===(o=t[a])||void 0===o?void 0:o.endDate).add("말"==t[a].type?0:1,"day").format("YYYY-MM-DD"),textColor:"#000000",borderColor:"#e9e9e9",extendedProps:{group:null===(r=t[a])||void 0===r?void 0:r.group,docId:t[a].docId}}}),o=l.filter(e=>{for(let[t,l]of Object.entries(a))if(!0===l&&e.extendedProps.group===t)return!0;return!1});return o};var v=a(7096);let groupColorSelection=e=>{switch(e.event.extendedProps.group){case"A":return"bg-[#ffa68e]";case"B":return"bg-[#ffd295]";case"C":return"bg-[#b0cfcf]";case"D":return"bg-[#ce9ae7]";default:return"bg-[white]"}};var b=a(7906);let workTypeHler=(e,t,a,l)=>{e.preventDefault(),workTypeSelector(t,a,l)},workTypeSelector=(e,t,a)=>{var l,n;switch(e){case"초":default:l=8,n=17;break;case"중":l=13,n=22;break;case"말":l=22,n=8}t(e=>e?e.set("hour",l).set("minute",0):null),a(e=>e?e.set("hour",n).set("minute",0):null)},workTypeChangeHdlr=(e,t,a,l,n)=>{var o,r;switch(t){case"초":default:o=8,r=17;break;case"중":o=13,r=22;break;case"말":o=22,r=8}l&&l(e&&e.set("hour",o).set("minute",0)),n&&n(e&&e.set("hour",r).set("minute",0)),a(t)};var y=a(8730),j=a(4086),N=a(966);let w={initHeight:{height:0,transition:{duration:.3,type:"spring"}},animateHeight:{height:"100%",transition:{duration:.3,type:"spring"}},initOpacity:{opacity:0,transition:{duration:.5,delay:.15}},animateOpacity:{opacity:1,transition:{duration:.5,delay:.15}}},C={initModifyModal:{x:"-100%",left:"0%",y:"-50%",top:"50%",transition:{duration:.3,type:"spring"}},animateModifyModal:{x:"-50%",left:"50%",y:"-50%",top:"50%",transition:{duration:.3,type:"spring",damping:15,stiffness:200}},exitModifyModal:{x:"100%",right:"0%",y:"-50%",top:"50%",transition:{duration:.3,type:"spring"}}},k={initFilterModal:{scale:0,transition:{duration:.3,type:"spring"}},animateFilterModal:{scale:1,transition:{duration:.3,type:"spring",damping:15,stiffness:300}},exitFilterModal:{scale:0,transition:{duration:.3,type:"spring"}}};var modify_modal=e=>{let{tableArg:t,setTableArg:a,year:o,month:r}=e,s=(0,n.useContext)(u.UseContext),{isEventAddModal:i,setIsEventAddModal:c,user:d,setUser:x,setIsModifyModal:m,apiVacations:p,setApiVacations:f,apiUserInfo:g,setApiUserInfo:w}=s,k=p?p.filter(e=>e.docId===(null==t?void 0:t.event.extendedProps.docId))[0]:null,[D,S]=(0,n.useState)(k?h()(k.startDate+" "+k.startTime):null),[M,I]=(0,n.useState)(k?h()(k.endDate+" "+k.endTime):null),[Y,T]=(0,n.useState)(k?k.memo:null),[H,U]=(0,n.useState)(k?k.type:null);j.EK.now();let A={userId:"".concat((null==d?void 0:d.uid)!==null?null==d?void 0:d.uid:""),name:"".concat((null==d?void 0:d.displayName)!==null?null==d?void 0:d.displayName:""),group:"".concat((null==g?void 0:g.group)!==null?null==g?void 0:g.group:""),startDate:"".concat(null==D?void 0:D.format("YYYY"),"-").concat(null==D?void 0:D.format("MM"),"-").concat(null==D?void 0:D.format("DD")),startTime:"".concat(null==D?void 0:D.format("HH"),":").concat(null==D?void 0:D.format("mm")),endDate:"".concat(null==M?void 0:M.format("YYYY"),"-").concat(null==M?void 0:M.format("MM"),"-").concat(null==M?void 0:M.format("DD")),endTime:"".concat(null==M?void 0:M.format("HH"),":").concat(null==M?void 0:M.format("mm")),type:H,memo:Y,timeStamp:j.EK.now().toDate().toString()};return(0,n.useEffect)(()=>{null!==d&&(0,b.YJ)(null==d?void 0:d.uid,w)},[d]),(0,l.jsxs)(N.E.div,{className:"absolute bg-bg w-[90%] p-8 z-20  rounded-md shadow-2xl",initial:"initModifyModal",animate:"animateModifyModal",exit:"exitModifyModal",variants:C,children:[(0,l.jsxs)("div",{className:"mb-5 flex justify-between items-center",children:[(0,l.jsx)("h1",{className:"text-[20px] font-bold",children:null==k?void 0:k.name}),(0,l.jsx)("button",{className:"px-5 py-1 \n                      ".concat((null==d?void 0:d.uid)!==(null==k?void 0:k.userId)?"border-black60 text-black60":"border-[red] text-[red]","\n                   \n                     border-[1px] rounded-md  text-[14px]\n                    "),disabled:(null==d?void 0:d.uid)!==(null==k?void 0:k.userId),onClick:e=>{let t=window.confirm("이벤트를 삭제 하시겠습니까?");t&&(0,v.Xd)(null==k?void 0:k.docId).then(()=>{(0,v.pp)(o,r,f),m(!1)})},children:"삭제하기"})]}),(0,l.jsxs)("form",{className:"flex flex-col justify-center gap-5",onSubmit:e=>{""!==A.type?(e.preventDefault(),(0,v.nT)(e,A,null==t?void 0:t.event.extendedProps.docId).then(()=>{console.log("then active"),(0,v.pp)(o,r,f),m(!1)})):(e.preventDefault(),alert("초/중/말 중에 선택해주세요"))},children:[(0,l.jsx)("hr",{className:"border-black40"}),(0,l.jsxs)("div",{className:"flex w-full ",children:[(0,l.jsx)("button",{className:"w-1/3 border-[1px] border-r-0 border-black60 py-1 rounded-l-xl ".concat("초"==H&&"bg-[black] text-bg"),onClick:e=>{workTypeHler(e,"초",S,I),U("초")},children:"초번"}),(0,l.jsx)("button",{className:"w-1/3 border-[1px] border-r-0 border-black60 py-1 ".concat("중"==H&&"bg-[black] text-bg"),onClick:e=>{workTypeHler(e,"중",S,I),U("중")},children:"중번"}),(0,l.jsx)("button",{className:"w-1/3 border-[1px] border-black60 py-1 rounded-r-xl ".concat("말"==H&&"bg-[black] text-bg"),onClick:e=>{workTypeHler(e,"말",S,I),U("말")},children:"말번"})]}),(0,l.jsxs)("div",{className:"flex flex-col gap-[10px]",children:[(0,l.jsx)("div",{className:"flex gap-2",children:(0,l.jsx)(y.x,{className:"w-full",label:"시작일",value:h()(D),onAccept:e=>{workTypeChangeHdlr(e,H,U,S,I)},format:"YYYY-MM-DD (dd) HH:mm",ampm:!1})}),(0,l.jsx)("div",{className:"flex gap-2",children:(0,l.jsx)(y.x,{className:"w-full",label:"종료일",format:"YYYY-MM-DD (dd) HH:mm",ampm:!1,value:M,onAccept:e=>{workTypeChangeHdlr(e,H,U,void 0,I)},shouldDisableDate:e=>h()(h()(e).format("YYYY-MM-DD")).isBefore("".concat(A.startDate))})})]}),(0,l.jsx)("hr",{className:"border-black40"}),(0,l.jsx)("div",{className:"flex flex-col gap-2",children:(0,l.jsx)("textarea",{disabled:(null==d?void 0:d.uid)!==(null==k?void 0:k.userId),className:"resize-none h-[15vh] p-2 rounded-sm bg-[#f4f4f4] border-[1px] border-black40",placeholder:(null==k?void 0:k.memo)===""?"메모를 입력하세요":null==k?void 0:k.memo,onChange:e=>{T(e.target.value)}})}),(0,l.jsx)("hr",{className:"border-black40"}),(0,l.jsx)("button",{type:"submit",className:"px-5 py-2 \n                    ".concat((null==d?void 0:d.uid)!==(null==k?void 0:k.userId)?"bg-black60":"bg-point","\n                     text-bg rounded-md w-full"),disabled:(null==d?void 0:d.uid)!==(null==k?void 0:k.userId),children:"수정"})]})]})},D=a(2167),S=a(8267),add_event_modal=e=>{let{tableArg:t,setTableArg:a,year:o,month:r,dateClickArg:s}=e,i=(0,n.useContext)(u.UseContext),{setIsEventAddModal:c,user:d,apiUserInfo:x,setApiUserInfo:m,setApiVacations:p}=i,[f,g]=(0,n.useState)(h()(new Date().setHours(8,0,0,0))),[C,k]=(0,n.useState)(h()(new Date().setHours(17,0,0,0))),[M,I]=(0,n.useState)(""),[Y,T]=(0,n.useState)(""),H={userId:"".concat((null==d?void 0:d.uid)!==null?null==d?void 0:d.uid:""),name:"".concat((null==d?void 0:d.displayName)!==null?null==d?void 0:d.displayName:""),group:"".concat((null==x?void 0:x.group)!==null?null==x?void 0:x.group:""),startDate:"".concat(null==f?void 0:f.format("YYYY"),"-").concat(null==f?void 0:f.format("MM"),"-").concat(null==f?void 0:f.format("DD")),startTime:"".concat(null==f?void 0:f.format("HH"),":").concat(null==f?void 0:f.format("mm")),endDate:"".concat(null==C?void 0:C.format("YYYY"),"-").concat(null==C?void 0:C.format("MM"),"-").concat(null==C?void 0:C.format("DD")),endTime:"".concat(null==C?void 0:C.format("HH"),":").concat(null==C?void 0:C.format("mm")),type:Y,memo:M,timeStamp:j.EK.now().toDate().toString()};return(0,n.useEffect)(()=>{null!==d&&(0,b.YJ)(null==d?void 0:d.uid,m)},[d]),(0,l.jsxs)(N.E.section,{className:"absolute left-0 bottom-0 w-full  rounded-t-3xl bg-[#ebebeb] z-50 px-10 py-6 shadow-[0_10px_20px_20px_rgba(0,0,0,0.05)] flex flex-col gap-5",initial:{y:"100%",zIndex:100},animate:{y:0,zIndex:100},exit:{y:"100%",zIndex:100},transition:{type:S.mZ,duration:.2},children:[(0,l.jsx)("div",{className:"mb-5",onClick:()=>{c(!1)}}),(0,l.jsxs)("form",{className:"flex flex-col justify-center gap-5",onSubmit:e=>{""!==H.type?(e.preventDefault(),(0,v.ED)(H).then(()=>{console.log("created!"),(0,v.pp)(o,r,p),c(!1)})):(e.preventDefault(),alert("초/중/말 중에 선택해주세요"))},children:[(0,l.jsxs)("div",{className:"flex justify-between font-bold text-[18px]",children:[(0,l.jsx)("span",{children:null==d?void 0:d.displayName}),(0,l.jsxs)("span",{children:[null==x?void 0:x.group,"조"]})]}),(0,l.jsx)("hr",{className:"border-black40"}),(0,l.jsxs)("div",{className:"flex w-full",children:[(0,l.jsx)("button",{className:"w-1/3 border-[1px] border-r-0 border-black60 py-1 rounded-l-xl ".concat("초"==Y&&"bg-[black] text-bg"),onClick:e=>{workTypeHler(e,"초",g,k),T("초")},children:"초번"}),(0,l.jsx)("button",{className:"w-1/3 border-[1px] border-r-0 border-black60 py-1 ".concat("중"==Y&&"bg-[black] text-bg"),onClick:e=>{workTypeHler(e,"중",g,k),T("중")},children:"중번"}),(0,l.jsx)("button",{className:"w-1/3 border-[1px] border-black60 py-1 rounded-r-xl ".concat("말"==Y&&"bg-[black] text-bg"),onClick:e=>{workTypeHler(e,"말",g,k),T("말")},children:"말번"})]}),(0,l.jsx)(D.M,{children:""!==Y&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(N.E.div,{initial:"initHeight",animate:"animateHeight",variants:w,children:(0,l.jsxs)(N.E.div,{className:"flex flex-col gap-[10px]",initial:"initOpacity",animate:"animateOpacity",variants:w,children:[(0,l.jsx)("div",{className:"flex gap-2",children:(0,l.jsx)(y.x,{className:"w-full",label:"시작일",value:h()(f),onAccept:e=>{workTypeChangeHdlr(e,Y,T,g,k)},format:"YYYY-MM-DD (dd) HH:mm",ampm:!1})}),(0,l.jsx)("div",{className:"flex gap-2",children:(0,l.jsx)(y.x,{className:"w-full",label:"종료일",format:"YYYY-MM-DD (dd) HH:mm",ampm:!1,value:C,onAccept:e=>{workTypeChangeHdlr(e,Y,T,void 0,k)},shouldDisableDate:e=>h()(h()(e).format("YYYY-MM-DD")).isBefore("".concat(H.startDate))})})]})}),(0,l.jsx)("hr",{className:"border-black40"})]})}),(0,l.jsx)("div",{className:"flex flex-col gap-2",children:(0,l.jsx)("textarea",{className:"resize-none h-[15vh] p-2 rounded-sm bg-[#f4f4f4] border-[1px] border-black40",placeholder:"메모를 입력하세요",onChange:e=>{I(e.target.value)}})}),(0,l.jsx)("hr",{className:"border-black40"}),(0,l.jsx)("button",{type:"submit",className:"rounded-3xl bg-point py-2 text-[white] mx-5",children:"SEND"})]})]})},filter_modal=()=>{let e=(0,n.useContext)(u.UseContext),{nowFilter:t,setNowFilter:a}=e,filterTailwindClassName=e=>!0===t[e]?" bg-bg shadow-inner bg-gradient-filter-btn-reverse":"shadow-xl -translate-x-1 -translate-y-1 bg-gradient-filter-btn";return(0,l.jsxs)(N.E.section,{className:"w-[90%] h-[10%] bg-bg shadow-2xl absolute z-50 rounded-full top-20 flex gap-5 justify-center items-center px-8",initial:"initFilterModal",animate:"animateFilterModal",exit:"exitFilterModal",variants:k,children:[(0,l.jsx)("label",{className:"flex gap-3 items-center p-2 rounded-xl w-[50px] justify-center \n                ".concat(filterTailwindClassName("A"),"\n                transition-all duration-100 font-ProximaNova"),onClick:()=>{a(e=>({...e,A:!e.A}))},children:"A"}),(0,l.jsx)("label",{className:"flex gap-3 items-center p-2 rounded-xl w-[50px] justify-center ".concat(filterTailwindClassName("B"),"\n                transition-all duration-100 font-ProximaNova"),onClick:()=>{a(e=>({...e,B:!e.B}))},children:"B"}),(0,l.jsx)("label",{className:"flex gap-3 items-center p-2 rounded-xl w-[50px] justify-center ".concat(filterTailwindClassName("C"),"\n                transition-all duration-100 font-ProximaNova"),onClick:()=>{a(e=>({...e,C:!e.C}))},children:"C"}),(0,l.jsx)("label",{className:"flex gap-3 items-center p-2 rounded-xl w-[50px] justify-center ".concat(filterTailwindClassName("D"),"\n                transition-all duration-100 font-ProximaNova"),onClick:()=>{a(e=>({...e,D:!e.D}))},children:"D"})]})};let M=(0,n.memo)(()=>{let e=(0,n.useContext)(u.UseContext),{setApiVacations:t,isModifyModal:a,setIsModifyModal:c,isEventAddModal:x,setIsEventAddModal:m,isFilter:g}=e,h=(0,n.useRef)(null),[b,y]=(0,n.useState)(null),[j,N]=(0,n.useState)(null),[w,C]=(0,n.useState)(!1),[k,S]=(0,n.useState)(null),[M,I]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if(h.current){let e=h.current.getApi();e.on("datesSet",handleDatesSet)}handleDatesSet()},[h.current]);let handleDatesSet=()=>{(0,v.pp)(d.year(h),d.monthNumber(h),t)};function handleDateClick(e){S(e),c(!0)}return(0,l.jsxs)("section",{className:"cal-section h-[90%] overflow-hidden",onTouchStart:e=>{handleTouchStart(e,y)},onTouchMove:e=>{handleTouchMove(e,N)},onTouchEnd:e=>{handleTouchEnd(b,j,h,y,N),C(!w)},children:[(0,l.jsx)(p,{calendarRef:h,isSlided:w}),(0,l.jsxs)("div",{className:"my-5 fullCalContainer",children:[(0,l.jsx)(o.Z,{plugins:[r.Z,s.Z,i.ZP],initialView:"dayGridMonth",height:"auto",headerToolbar:!1,events:event_data(),eventClick:handleDateClick,ref:h,eventContent:e=>(0,l.jsx)(l.Fragment,{children:e.event.title?(0,l.jsx)(l.Fragment,{children:(0,l.jsx)("div",{className:"flex justify-center items-center h-[15px] ".concat(groupColorSelection(e)),children:e.event.title})}):(0,l.jsx)("div",{children:"없음"})})}),(0,l.jsx)(D.M,{children:a&&(0,l.jsx)(modify_modal,{tableArg:k,setTableArg:S,year:d.year(h),month:d.monthNumber(h)})}),(0,l.jsx)(D.M,{children:x&&(0,l.jsx)(add_event_modal,{tableArg:k,setTableArg:S,year:d.year(h),month:d.monthNumber(h)})})]}),(0,l.jsx)(D.M,{children:g&&(0,l.jsx)(filter_modal,{})}),(0,l.jsx)(f.default,{})]})});var I=a(4124),Y=a(2750);a(356);var main_page=()=>{let e=(0,n.useContext)(u.UseContext),{isEventAddModal:t,setIsEventAddModal:a,isUserMenu:o,setIsUserMenu:r,isModifyModal:s,setIsModifyModal:i,isFilter:c,setIsFilter:d}=e;return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(I._,{dateAdapter:Y.y,adapterLocale:"ko",children:[(0,l.jsx)(D.M,{children:(t||o||s||c)&&(0,l.jsx)(N.E.div,{className:"w-full h-full absolute top-0 left-0 z-10 bg-black100",initial:{opacity:0},animate:{opacity:.6},exit:{opacity:0},transition:{duration:.1},onClick:()=>{a(!1),r(!1),i(!1),d(!1)}})}),(0,l.jsx)(M,{})]})})}},1173:function(e,t,a){"use strict";a.r(t);var l=a(7437),n=a(8192),o=a(4033),r=a(2265);t.default=()=>{let e=(0,r.useContext)(n.UseContext),{bottomNavState:t,setBottomNavState:a,user:s}=e,i=(0,o.useRouter)(),pageHdlr=e=>{i.push("/".concat(e)),a(e)};return(0,l.jsxs)("section",{className:"absolute bottom-0 left-0 h-[10%] z-[2] w-full px-10 flex justify-between border-t-black20 border-t-[0.5px] text-black40",children:[(0,l.jsxs)("div",{className:"flex flex-col justify-center items-center gap-1",onClick:()=>{pageHdlr("")},children:[(0,l.jsx)("img",{src:"".concat(""==t?"/asset/img/house.circle@10x.png":"/asset/img/house.circle@10x_grey.png"),className:"w-[24px] object-cover  "}),(0,l.jsx)("div",{className:"text-[12px] ".concat(""==t&&"text-black100"),children:"HOME"})]}),(0,l.jsxs)("div",{className:"flex flex-col justify-center items-center gap-1",onClick:()=>{s?pageHdlr("history"):(alert("로그인 해 주세요 \uD83D\uDE4F"),i.push("/login"))},children:[(0,l.jsx)("img",{src:"".concat("history"==t?"/asset/img/list.bullet.circle@10x.png":"/asset/img/list.bullet.circle@10x_grey.png"),className:"w-[24px] object-cover"}),(0,l.jsx)("div",{className:"text-[12px] ".concat("history"==t&&"text-black100"),children:"HISTORY"})]}),(0,l.jsxs)("div",{className:"flex flex-col justify-center items-center gap-1",onClick:()=>{s?pageHdlr("info"):(alert("로그인 해 주세요 \uD83D\uDE4F"),i.push("/login"))},children:[(0,l.jsx)("img",{src:"".concat("info"==t?"/asset/img/info.circle@10x.png":"/asset/img/info.circle@10x_grey.png"),className:"w-[24px] object-cover"}),(0,l.jsx)("div",{className:"text-[12px] ".concat("info"==t&&"text-black100"),children:"INFO"})]})]})}},5181:function(e,t,a){"use strict";a.d(t,{J$:function(){return resetPwd},dD:function(){return updateFireBaseAuthUser},kS:function(){return logout},x4:function(){return login},z2:function(){return register}});var l=a(2031),n=a(8153),o=a(7906);let login=async(e,t,a,o)=>{e.preventDefault();try{await (0,n.e5)(l.I,t,a),alert("환영합니다!"),o.push("/")}catch(e){alert("로그인 실패! 새로고침 후 다시 시도해보세요"),console.log(e)}},logout=async()=>{await (0,n.w7)(l.I)},register=async(e,t,a)=>{e.preventDefault();try{let e=await (0,n.Xb)(l.I,t.email,t.password);await (0,n.ck)(e.user,{displayName:t.name}),(0,o.C$)(t,e.user.uid),alert("회원가입이 완료되었습니다"),a.push("/")}catch(e){alert("새로고침 후 다시시도 해 주세요"),console.log(e)}},resetPwd=async e=>{let t=window.confirm("비밀번호를 초기화 하시겠습니까?");t&&(logout(),alert("".concat(e,"로 \n 비밀번호 초기화 이메일을 보냈습니다.")),(0,n.LS)(l.I,e).then(()=>{}).catch(e=>{e.code,e.message,alert("새로고침 후 다시시도 해 주세요")}))},updateFireBaseAuthUser=async(e,t)=>{e.preventDefault();try{let e=(0,n.v0)();null!==e.currentUser?(await (0,n.ck)(e.currentUser,{displayName:t.name}).then(()=>{var a,l;console.log(null===(a=e.currentUser)||void 0===a?void 0:a.uid),console.log(t),(0,o.gS)(null===(l=e.currentUser)||void 0===l?void 0:l.uid,t)}).catch(e=>console.log(e)),console.log("성공")):console.log("에러발생"),alert("업데이트가 완료되었습니다")}catch(e){alert("새로고침 후 다시시도 해 주세요"),console.log(e)}}},7906:function(e,t,a){"use strict";a.d(t,{C$:function(){return createUserInfo},YJ:function(){return getUserInfoCollection},gS:function(){return updateUserInfo}});var l=a(2031),n=a(4086);let createUserInfo=async(e,t)=>{let{password:a,...o}=e,r=(0,n.JU)(l.db,"userInfo",t);await (0,n.pl)(r,o)},getUserInfoCollection=async(e,t)=>{try{let a=(0,n.JU)(l.db,"userInfo",e),o=await (0,n.QT)(a);o.exists()?t(o.data()):console.log("No such document!")}catch(e){console.log(e)}},updateUserInfo=async(e,t)=>{let a=(0,n.JU)(l.db,"userInfo",e);await (0,n.r7)(a,t)}},7096:function(e,t,a){"use strict";a.d(t,{ED:function(){return createVacation},Xd:function(){return deleteVacation},nT:function(){return modifyVacation},pp:function(){return getVacationsCollection},u6:function(){return getVacationsCollectionByYear}});var l=a(2031),n=a(4086);let createVacation=async e=>{let t=(0,n.hJ)(l.db,"vacations");try{let a=(0,n.JU)(t);await (0,n.pl)(a,{docId:a.id,...e}).then(()=>{console.log("Create Success!")})}catch(e){console.log("FAILED!"),console.log(e)}},getVacationsCollection=async(e,t,a)=>{try{let o=(0,n.hJ)(l.db,"vacations"),r=(0,n.IO)(o,(0,n.ar)("startDate",">=","".concat(e,"-").concat(t)),(0,n.ar)("startDate","<","".concat(e,"-").concat((parseInt(t)+1).toString().padStart(2,"0")))),s=await (0,n.PL)(r),i=s.docs.map(e=>e.data());a(i),console.log("VACATION GET SUCCESS")}catch(e){console.error("휴가 정보 가져오기 중 오류가 발생했습니다:",e)}},getVacationsCollectionByYear=async(e,t)=>{try{let a=(0,n.hJ)(l.db,"vacations"),o=(0,n.IO)(a,(0,n.ar)("startDate",">=","".concat(e)),(0,n.ar)("startDate","<","".concat((parseInt(e)+1).toString().padStart(2,"0")))),r=await (0,n.PL)(o),s=r.docs.map(e=>e.data());t(s),console.log("VACATION GET SUCCESS")}catch(e){console.error("휴가 정보 가져오기 중 오류가 발생했습니다:",e)}},deleteVacation=async e=>{try{let t=(0,n.JU)(l.db,"vacations",e);await (0,n.oe)(t),console.log("delete success!")}catch(e){console.log(e),console.log("failed!")}},modifyVacation=async(e,t,a)=>{try{let e=(0,n.JU)(l.db,"vacations",a);await (0,n.r7)(e,t),console.log("update success!")}catch(e){console.log(e),console.log("failed!")}}},2031:function(e,t,a){"use strict";a.d(t,{I:function(){return c},db:function(){return i}});var l=a(994),n=a(9978),o=a(9584),r=a(8153);let s=(0,l.ZF)({apiKey:"AIzaSyCTwMc2ShiHt4o933L-q2NeCOeUWioe--Q",authDomain:"sdc-new-calendar-vacation.firebaseapp.com",projectId:"sdc-new-calendar-vacation",storageBucket:"sdc-new-calendar-vacation.appspot.com",messagingSenderId:"129344356801",appId:"1:129344356801:web:d6660765fa0c7b968d2f40",measurementId:"G-YDQN36SFN4"});(0,o.cF)(s);let i=(0,n.ad)(),c=(0,r.v0)(s)}},function(e){e.O(0,[358,50,554,376,388,71,353,971,472,744],function(){return e(e.s=2356)}),_N_E=e.O()}]);